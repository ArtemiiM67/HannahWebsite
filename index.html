<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#06040d" />
  <title>I Love You Hannah Banana ğŸ’˜</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Ambient background (one optimized canvas) -->
  <div class="bg" aria-hidden="true">
    <canvas id="fx"></canvas>
    <div class="grain"></div>
    <div class="vignette"></div>
    <div class="streak s1"></div>
    <div class="streak s2"></div>
    <div class="streak s3"></div>
  </div>

  <!-- Hearts stream (pooled + capped) -->
  <div class="heart-field" id="heartField" aria-hidden="true"></div>

  <!-- INTRO -->
  <section class="intro" id="intro" aria-hidden="false">
    <div class="portal">
      <div class="ring r1"></div>
      <div class="ring r2"></div>
      <div class="ring r3"></div>
      <div class="core"></div>
    </div>

    <div class="intro-text">
      <div class="chip"><span class="dot"></span>Booting Love Engineâ€¦</div>
      <div class="bigline" id="introLine">Tap to begin ğŸ’˜</div>
      <div class="subline">A 3-screen Valentine universe (Love â€¢ Draw â€¢ Flappy).</div>
    </div>
  </section>

  <!-- TOP NAV (always top-right) -->
  <header class="nav" id="nav" aria-label="Navigation">
    <div class="nav-left">
      <span class="nav-pill" id="perfPill">âš¡ smooth</span>
    </div>

    <div class="nav-right">
      <button class="navbtn" id="toLove" aria-label="Love screen" title="Love">ğŸ’Œ</button>
      <button class="navbtn" id="toDraw" aria-label="Draw screen" title="Draw">ğŸ¨</button>
      <button class="navbtn" id="toGame" aria-label="Game screen" title="Flappy">ğŸ•Šï¸</button>
      <button class="navbtn menu" id="openPanel" aria-label="Open controls" title="Controls">â˜°</button>
    </div>
  </header>

  <main class="stage" id="stage">
    <!-- SCREEN 1: LOVE -->
    <section class="screen active" id="screenLove" aria-hidden="false">
      <section class="card" id="cardLove">
        <div class="edge-glow" aria-hidden="true"></div>
        <div class="sheen" aria-hidden="true"></div>

        <div class="badge">
          <span class="dot"></span>
          <span class="text">Valentine Protocol: ACTIVE</span>
        </div>

        <h1 class="title">
          <span class="title-glow" aria-hidden="true"></span>
          <span class="type" id="type"></span><span class="cursor">|</span>
        </h1>

        <p class="subtitle" id="subtitle"></p>

        <div class="cta-row">
          <button class="btn primary" id="burstBtn">ğŸ’¥ Love Burst</button>
          <button class="btn" id="momentBtn">ğŸ¬ Next Message</button>
        </div>

        <div class="micro">
          <div class="meter" aria-hidden="true">
            <span class="bar b1"></span><span class="bar b2"></span><span class="bar b3"></span><span class="bar b4"></span>
          </div>
          <div class="hint">
            Tap for sparkles â€¢ Drag for tilt â€¢ Press <kbd>H</kbd> hearts â€¢ Press <kbd>M</kbd> meteor â€¢ Switch screens top-right
          </div>
        </div>

        <div class="signature">
          <span class="sigline"></span>
          <span class="sigtext">â€” for <b>Hannah Banana</b> ğŸŒğŸ’˜</span>
        </div>

        <div class="corner c1" aria-hidden="true"></div>
        <div class="corner c2" aria-hidden="true"></div>
      </section>
    </section>

    <!-- SCREEN 2: DRAW -->
    <section class="screen" id="screenDraw" aria-hidden="true">
      <section class="card drawcard" id="cardDraw">
        <div class="edge-glow" aria-hidden="true"></div>
        <div class="sheen" aria-hidden="true"></div>

        <div class="row">
          <div class="badge small">
            <span class="dot"></span>
            <span class="text">Love Paint Studio</span>
          </div>
          <div class="tip">Use one finger â€¢ two-finger scroll wonâ€™t draw</div>
        </div>

        <div class="canvaswrap">
          <canvas id="draw"></canvas>
          <div class="canvas-glow" aria-hidden="true"></div>
        </div>

        <div class="tools">
          <div class="toolgroup">
            <div class="label">Mode</div>
            <div class="chips">
              <button class="chipbtn active" data-mode="brush">Brush</button>
              <button class="chipbtn" data-mode="glow">Glow</button>
              <button class="chipbtn" data-mode="heart">Hearts</button>
              <button class="chipbtn" data-mode="star">Stars</button>
            </div>
          </div>

          <div class="toolgroup">
            <div class="label">Color</div>
            <div class="palette" id="palette"></div>
          </div>

          <div class="toolgroup">
            <div class="label">Size</div>
            <input type="range" id="brushSize" min="2" max="26" step="1" value="10" />
          </div>

          <div class="toolactions">
            <button class="btn" id="undoBtn">â†© Undo</button>
            <button class="btn" id="clearBtn">ğŸ§¼ Clear</button>
            <button class="btn primary" id="saveBtn">ğŸ“¸ Save</button>
          </div>
        </div>

        <div class="footerline" id="drawMsg"></div>
      </section>
    </section>

    <!-- SCREEN 3: GAME -->
    <section class="screen" id="screenGame" aria-hidden="true">
      <section class="card gamecard" id="cardGame">
        <div class="edge-glow" aria-hidden="true"></div>
        <div class="sheen" aria-hidden="true"></div>

        <div class="row">
          <div class="badge small">
            <span class="dot"></span>
            <span class="text">Flappy Valentine</span>
          </div>
          <div class="scorebox">
            <span class="scorelabel">Hearts:</span>
            <span class="score" id="score">0</span>
            <span class="scorelabel">Candy:</span>
            <span class="score" id="candy">0</span>
          </div>
        </div>

        <div class="canvaswrap gamewrap">
          <canvas id="game"></canvas>
          <div class="canvas-glow" aria-hidden="true"></div>

          <div class="overlay" id="gameOverlay">
            <div class="overlay-title">Tap to Start ğŸ’˜</div>
            <div class="overlay-sub">Tap to flap â€¢ Collect candy â€¢ Avoid the columns</div>
            <button class="btn primary" id="startGameBtn">Start</button>
          </div>
        </div>

        <div class="gamebar">
          <button class="btn" id="pauseBtn">â¸ Pause</button>
          <button class="btn" id="restartBtn">â†º Restart</button>
          <button class="btn primary" id="megaCandyBtn">ğŸ¬ Candy Rush</button>
        </div>

        <div class="footerline" id="gameMsg"></div>
      </section>
    </section>

    <!-- CONTROL PANEL -->
    <aside class="panel" id="panel" aria-hidden="true">
      <div class="panel-head">
        <div class="panel-title">Love Controls</div>
        <button class="iconbtn" id="closePanel" aria-label="Close controls">âœ•</button>
      </div>

      <div class="toggles">
        <label class="toggle">
          <input type="checkbox" id="tEco" />
          <span class="ui"></span>
          <span class="lbl">Mobile Eco</span>
          <span class="desc">Fewer particles, smoother phones.</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="tNeon" />
          <span class="ui"></span>
          <span class="lbl">Neon Glow</span>
          <span class="desc">Extra shine.</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="tHearts" checked />
          <span class="ui"></span>
          <span class="lbl">Hearts Stream</span>
          <span class="desc">Floating hearts in the background.</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="tMeteors" checked />
          <span class="ui"></span>
          <span class="lbl">Meteors</span>
          <span class="desc">Occasional shooting stars.</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="tConstellations" checked />
          <span class="ui"></span>
          <span class="lbl">Constellations</span>
          <span class="desc">Star lines (lightweight).</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="tMotionLock" />
          <span class="ui"></span>
          <span class="lbl">Lock Motion</span>
          <span class="desc">Stops tilt if you want calm.</span>
        </label>
      </div>

      <div class="sliders">
        <div class="sliderrow">
          <div class="slabel">Intensity</div>
          <input type="range" id="sIntensity" min="0.6" max="1.6" step="0.05" value="1.0" />
        </div>
        <div class="sliderrow">
          <div class="slabel">Heart Rate</div>
          <input type="range" id="sHearts" min="0" max="100" step="1" value="65" />
        </div>
      </div>

      <div class="panel-actions">
        <button class="btn" id="resetBtn">â†º Reset</button>
        <button class="btn primary" id="megaBtn">ğŸŒ‹ MEGA MODE</button>
      </div>
    </aside>
  </main>

  <script src="script.js"></script>
</body>
</html>
